---
layout: post
title:  "Writing Pywal Scripts"
date:   2023-04-05 00:00:00 -0500
author: poacher
---

# Introduction:

While writing Pywal scripts isn't necessarily hard, I haven't written an article in a month and need to get something out so heres how I wrote my [my Pywal script for ObsidianMD.](https://github.com/poach3r/pywal-obsidianmd)

# Find Your Theme/Config File/Folder

Since I will be theming ObsidianMD, my themes folder is whatever my vault is. In the script I will create 2 variables, one is `$theme_dir` and the other is `$vault_dir`. We will ask the user for their vault directory and then set that to `$vault_dir` then set `$theme_dir` to `$vault_dir/.obsidian/themes/pywal-obsidianmd`.

# Create the Theme/Config File/Folder

Here I will be using `mkdir` to create the previously mentioned`$theme_dir`, however, I will also be using `touch` to create a `$theme_dir/manifest.json` and a `$theme_dir/theme.css`.

# Create Necessary Non-Theming Files

This is usually things like an author file, in my case this is `$theme_dir/manifest.json` which contains information about the theme such as the author, version and name. I will now echo the following to `$theme_dir/manifest.json`:

```
{
    "name": "pywal-obsidianmd",
    "version": "1.0.0",
    "minAppVersion": "0.16.0",
    "author": "poacher"
}
```

# The Hard Part

Now you need to actually write your colors file, for your own sanity base this off of a pre-existing file. The colors generated by Pywal will appear in `~/.cache/wal/`, I recommend using the default `colors` file as its easiest to work with. I have echoed the following to the `$theme_dir/theme.css`:
```
'.theme-dark {'
"  --background-primary: $(head -n 1 ~/.cache/wal/colors);"
"  --background-primary-alt: $(head -n 4 ~/.cache/wal/colors | tail -1);"
"  --background-accent: $(head -2 ~/.cache/wal/colors | tail -1);"
"  --background-secondary: $(head -n 1 ~/.cache/wal/colors);"
"  --background-secondary-alt: $(head -n 4 ~/.cache/wal/colors | tail -1);"
"  --text-accent: $(head -n 3 ~/.cache/wal/colors | tail -1);"
"  --text-accent-hover: $(head -n 2 ~/.cache/wal/colors | tail -1);"
"  --background-modifier-border: $(head -n 4 ~/.cache/wal/colors | tail -1);"
"  --text-highlight-bg: $(head -n 4 ~/.cache/wal/colors | tail -1);"
"  --text-selection: $(head -n 14 ~/.cache/wal/colors | tail -1);"
"  --red: $(head -n 16 ~/.cache/wal/colors | tail -1);"
"  --green: $(head -n 15 ~/.cache/wal/colors | tail -1);"
"  --blue: $(head -n 14 ~/.cache/wal/colors | tail -1);"
"  --purple: $(head -n 13 ~/.cache/wal/colors | tail -1);"
"  --aqua: $(head -n 12 ~/.cache/wal/colors | tail -1);"
"  --yellow: $(head -n 11 ~/.cache/wal/colors | tail -1);"
"  --orange: $(head -n 10 ~/.cache/wal/colors | tail -1);"
"}"
```

This has set me up with a good base for colors, however I am not done yet as I have to set the formatting. For my script I have bundled a layout file and will simply cat the file into `$theme_dir/theme.css`

# Conclusion

I don't really know what to write. Pywal is neat.